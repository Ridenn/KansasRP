<!DOCTYPE html>
<html lang="pt">
  <head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Site Metas -->
    <link rel="icon" href="images/fevicon/fevicon.jpg" type="image/gif" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Kansas RP</title>

    <!-- bootstrap core css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

    <!-- fonts style -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

    <!-- font awesome style -->
    <link href="css/font-awesome.min.css" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet" />
    <!-- responsive style -->
    <link href="css/responsive.css" rel="stylesheet" />

    <link rel="stylesheet" href="west/store.spa.css">
    <link rel="stylesheet" href="west/bootstrap-grid.min.css" integrity="sha512-pkOzvsY+X67Lfs6Yr/dbx+utt/C90MITnkwx8X5fyKkBorWHJLlR3TmgNJs83URAR0GdejZZnjZdgYjzL/mtcQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="west/all.min.css">
    <link rel="stylesheet" href="west/animate.min.css">
    <link rel="stylesheet" href="west/7762.css">
    
    <script src="west/vue@2.6.12"></script>
    <script src="west/axios.min.js"></script>
    <link href="data:text/css,%3Ais(%5Bid*%3D'google_ads_iframe'%5D%2C%5Bid*%3D'taboola-'%5D%2C.taboolaHeight%2C.taboola-placeholder%2C%23credential_picker_container%2C%23credentials-picker-container%2C%23credential_picker_iframe%2C%5Bid*%3D'google-one-tap-iframe'%5D%2C%23google-one-tap-popup-container%2C.google-one-tap-modal-div%2C%23amp_floatingAdDiv%2C%23ez-content-blocker-container)%20%7Bdisplay%3Anone!important%3Bmin-height%3A0!important%3Bheight%3A0!important%3B%7D" rel="stylesheet" type="text/css">
  </head>

  <body>

    <div class="hero_area_cart">
      <!-- header section strats -->
      <header class="header_section">
        <div class="container-fluid">
          <nav class="navbar navbar-expand-lg custom_nav-container ">
            <a href="index.html">
              <img src="images/kansas_logo.png" class="footer-logo" width="100" height="50">
            </a>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class=""> </span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav categories animate__animated animate__slideInLeft">
                  <li class="nav-item active">
                      <a class="nav-link" href="index.html">Início <span class="sr-only">(current)</span></a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="about.html">Sobre</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="product.html">VIP Colaborador</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="product.html">Gold Colaborador</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="product.html">Fazendas</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="product.html">Extras</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="product.html">Peds</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="product.html">Imóveis</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="product.html">Upgrade</a>
                  </li>
              </ul>
              <div class="user_optio_box">
                  <div class="social_box">
                      <a href="teste.html">
                          <img src="images/fb.png" alt="">
                      </a>
                      <a href="">
                          <img src="images/twitter.png" alt="">
                      </a>
                      <a href="https://discord.gg/dtbq78SPpn" target="_blank">
                          <img src="images/discord.png" alt="" width="30" height="20">
                      </a>
                      <a href="">
                          <img src="images/youtube.png" alt="">
                      </a>
                  </div>
                  <a href="checkout.html" class="cart-link">
                      <img src="images/cart_ic.png" width="28" height="28">
                      <span id="cart-count" class="badge badge-pill badge-danger">0</span>
                  </a>
              </div>
            </div>
          </nav>
        </div>
      </header>
      <!-- end header section -->
    </div>

    <div id="container">
      <div id="cart">
        <h1>Itens no Carrinho</h1>
        <div class="container">
          <table class="table carrinho">
            <thead>
              <tr>
                <th></th>
                <th>Produto</th>
                <th>Preço</th>
                <th>Quantidade</th>
                <th>Remover</th>
              </tr>
            </thead>
            <tbody id="cartList">
              <!-- Os itens do carrinho serão adicionados aqui -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="checkout-details" class="container mt-4">
      <h2>Detalhes de Checkout</h2>
      <form id="checkoutForm">
        <div class="form-group">
          <label for="fullName">Nome Completo:</label>
          <input type="text" class="form-control" id="fullName" name="fullName" required>
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="serverId">ID do Servidor:</label>
          <input type="text" class="form-control" id="serverId" name="serverId" required>
        </div>
        <div class="form-group">
          <label for="paymentMethod">Método de Pagamento:</label>
          <select class="form-control" id="paymentMethod" name="paymentMethod" required>
            <option value="">Selecione</option>
            <option value="pix">PIX</option>
            <option value="creditCard">Mercado Pago QR</option>
            <option value="boleto">Boleto Bancário</option>
          </select>
        </div>
        <div class="form-group" id="cpfGroup" style="display: none;">
          <label for="cpf">CPF:</label>
          <input type="text" class="form-control" maxlength="11" id="cpf" name="cpf">
          <p>(O CPF é obrigatório para o método de pagamento escolhido)</p>
        </div>
        <label for="termsCheckbox" class="checkbox-label">
          <input type="checkbox" id="termsCheckbox" required>
          <a href="politica-pagamento.html" target="_blank">Eu li e estou de acordo com as políticas de pagamento deste site.</a>
        </label>
        <br>
        <button id="submitButton" class="btn btn-primary" style="display: none;">Finalizar Doação</button>
      </form>
      <br><br><br><br>
    </div>

    <!-- footer section -->
    <footer class="footer_section">
      <div class="container">
        <div class="row">
          <div class="col-md-4 footer-col">
            <div class="footer_contact">
              <h4>
                Entre em Contato
              </h4>
              <div class="contact_link_box">
                <a href="https://discord.gg/dtbq78SPpn">
                  <i class="fa fa-phone" aria-hidden="true"></i>
                  <span>
                    Discord
                  </span>
                </a>
                <br>
                <a href="mailto:emailaddress@whatever.com">
                  <i class="fa fa-envelope" aria-hidden="true"></i>
                  <span>
                    kansasrp@gmail.com
                  </span>
                </a>
              </div>
            </div>
          </div>
          <div class="col-md-4 footer-col">
            <div class="footer_detail">
              <a href="index.html">
                <img src="images/kansas_logo.png" class="footer-logo" width="200" height="100">
              </a>
              <div class="footer_social">
                <div class="social_box">
                  <a href="teste.html">
                      <img src="images/fb.png" alt="">
                  </a>
                  <a href="">
                      <img src="images/twitter.png" alt="">
                  </a>
                  <a href="https://discord.gg/dtbq78SPpn" target="_blank">
                      <img src="images/discord.png" alt="" width="30" height="20">
                  </a>
                  <a href="">
                      <img src="images/youtube.png" alt="">
                  </a>
                </div>
            </div>
              </div>
            </div>
          </div>
        </div>
        <div class="footer-info">
          <p>
            &copy; <span id="displayYear"></span> Todos os Direitos Reservados Kansas RP
          </p>
        </div>
      </div>
    </footer>
    <!-- footer section -->

    <!-- Modal POLITICAS -->
    <div id="privacyModal" class="modal">
      <div class="modal-content">
        <span class="close-button" id="closeModal">&times;</span>
        <h2>Políticas de Privacidade</h2>
        <p>Você pode realizar contribuições periódicas pelo período de 30 dias, que irá dar algumas vantagens por esse tempo, ou até mesmo realizar contribuições como doações para auxiliar no custeio do servidor.</p>
        <p>As contribuições realizadas não te fazem imunes de seguir as regras do condado!</p>
        <p>Nós não fazemos nenhum tipo de reembolso de doações!</p>
        <p>Nenhuma contribuição te dá direito de faltar com o respeito com algum membro da staff ou com outros players!</p>
        <p>Não é permitido venda de itens adquiridos por gold no condado!</p>
        <p>Em casos de invatividade de fazendas (o não pagamento da taxa mensal em dollar do jogo dia 15) as mesmas poderá a prefeitura tomar posse e vender novamente.</p>
        <p>Quando você faz uma doação automaticamente está aceitando todas as diretrizes acima!</p>
        <p>Para receber os itens referentes a sua doação é necessário abrir ticket financeiro com o comprovante.</p>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const paymentMethodSelect = document.getElementById('paymentMethod');
        const cpfGroup = document.getElementById('cpfGroup');
        const cpfInput = document.getElementById('cpf');
        const submitButton = document.getElementById('submitButton');
        const termsCheckbox = document.getElementById('termsCheckbox');
        const fullNameInput = document.getElementById('fullName');
        const emailInput = document.getElementById('email');
        const serverIdInput = document.getElementById('serverId');

        function validateForm() {
            const isTermsChecked = termsCheckbox.checked;
            const isPaymentMethodSelected = paymentMethodSelect.value !== '';
            const isFullNameValid = validateFullName(fullNameInput.value);
            const isEmailValid = emailInput.value.trim() !== '';
            const isServerIdValid = serverIdInput.value.trim() !== '';
            const isCpfValid = cpfGroup.style.display === 'none' || isValidCPF(cpfInput.value);

            if (isTermsChecked && isPaymentMethodSelected && isFullNameValid && isEmailValid && isServerIdValid && isCpfValid) {
              submitButton.style.display = 'inline-block';
            } else {
              submitButton.style.display = 'none';
            }
        }

        paymentMethodSelect.addEventListener('change', () => {
            const selectedMethod = paymentMethodSelect.value;
            if (selectedMethod === 'pix' || selectedMethod === 'boleto') {
              cpfGroup.style.display = 'block';
              cpfInput.setAttribute('required', 'required');
            } else {
              cpfGroup.style.display = 'none';
              cpfInput.removeAttribute('required');
            }
            validateForm();
        });

        fullNameInput.addEventListener('input', validateForm);
        emailInput.addEventListener('input', validateForm);
        serverIdInput.addEventListener('input', validateForm);
        cpfInput.addEventListener('input', validateForm);
        termsCheckbox.addEventListener('change', validateForm);

        submitButton.addEventListener('click', (event) => {
            if (cpfGroup.style.display === 'block' && !isValidCPF(cpfInput.value)) {
              alert('CPF inválido!');
              event.preventDefault(); // Impede o envio do formulário se o CPF for inválido
              return;
            }

          // Validação e envio do formulário aqui
        });

        function validateFullName(name) {
            return name.trim().split(/\s+/).length >= 2;
        }

        function isValidCPF(cpf) {
            cpf = cpf.replace(/[^\d]+/g, ''); // Remove qualquer caractere que não seja número

            if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) {
              return false; // Verifica se o CPF tem 11 dígitos e não é uma sequência de números iguais
            }

            let sum = 0;
            let remainder;

            // Valida o primeiro dígito verificador
            for (let i = 1; i <= 9; i++) {
              sum += parseInt(cpf[i - 1]) * (11 - i);
            }
            remainder = (sum * 10) % 11;
            if (remainder === 10 || remainder === 11) remainder = 0;
            if (remainder !== parseInt(cpf[9])) return false;

            // Valida o segundo dígito verificador
            sum = 0;
            for (let i = 1; i <= 10; i++) {
              sum += parseInt(cpf[i - 1]) * (12 - i);
            }
            remainder = (sum * 10) % 11;
            if (remainder === 10 || remainder === 11) remainder = 0;
            if (remainder !== parseInt(cpf[10])) return false;

            return true;
        }

        var modal = document.getElementById('privacyModal');
        var closeButton = document.getElementById('closeModal');
        var privacyLink = document.querySelector('a[href="politica-pagamento.html"]');
        
        // Abrir o modal
        privacyLink.addEventListener('click', function(event) {
          event.preventDefault(); // Impede o link de seguir o href
          modal.style.display = 'block';
        });
        
        // Fechar o modal
        closeButton.addEventListener('click', function() {
          modal.style.display = 'none';
        });
        
        // Fechar o modal se o usuário clicar fora do conteúdo
        window.addEventListener('click', function(event) {
          if (event.target === modal) {
            modal.style.display = 'none';
          }
        });

      });
    </script>

    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/custom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/js/all.min.js"></script>

  </body>
</html>
